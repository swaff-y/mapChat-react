[{"/Users/kyleswaffield/sei40/projects/whatsapp/whatsapp/src/App.js":"1","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/index.js":"2","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/App.js":"3","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/reportWebVitals.js":"4","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/api.js":"5","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/Chat.js":"6","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/ChatThread.js":"7","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/ChatParticipants.js":"8","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/ChatHeader.js":"9","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/Message.js":"10","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/Participant.js":"11","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/map/MapContainer.js":"12","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/sidebar/SkinnySidebar.js":"13","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/sidebar/SideBar.js":"14","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/sidebar/SidebarChat.js":"15","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/Home.js":"16"},{"size":257,"mtime":1611913264128,"results":"17","hashOfConfig":"18"},{"size":500,"mtime":1611908559749,"results":"19","hashOfConfig":"20"},{"size":371,"mtime":1612009400418,"results":"21","hashOfConfig":"20"},{"size":362,"mtime":1611908559750,"results":"22","hashOfConfig":"20"},{"size":116,"mtime":1611970742637,"results":"23","hashOfConfig":"20"},{"size":815,"mtime":1612187316451,"results":"24","hashOfConfig":"20"},{"size":1557,"mtime":1612164619061,"results":"25","hashOfConfig":"20"},{"size":630,"mtime":1612187286784,"results":"26","hashOfConfig":"20"},{"size":919,"mtime":1612132005152,"results":"27","hashOfConfig":"20"},{"size":414,"mtime":1612160883712,"results":"28","hashOfConfig":"20"},{"size":377,"mtime":1612187274107,"results":"29","hashOfConfig":"20"},{"size":1435,"mtime":1612006764395,"results":"30","hashOfConfig":"20"},{"size":427,"mtime":1612002114910,"results":"31","hashOfConfig":"20"},{"size":1482,"mtime":1612145978507,"results":"32","hashOfConfig":"20"},{"size":675,"mtime":1612149077856,"results":"33","hashOfConfig":"20"},{"size":3095,"mtime":1612166389374,"results":"34","hashOfConfig":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"1r65jmx",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"3psvol",{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"40"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"40"},"/Users/kyleswaffield/sei40/projects/whatsapp/whatsapp/src/App.js",[],["74","75"],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/index.js",[],["76","77"],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/App.js",["78"],"import React from 'react';\nimport Home from './Home';\nimport { Link, Route, HashRouter as Router } from 'react-router-dom';\n\nconst App = () => {\n\n  return (\n    <div className=\"app\">\n      <Router>\n        <Route exact path = \"/\" component = {Home} />\n        <Route exact path = \"/room/:name\" component = {Home} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/reportWebVitals.js",[],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/api.js",[],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/Chat.js",[],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/ChatThread.js",[],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/ChatParticipants.js",[],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/ChatHeader.js",["79","80"],"import React, {useEffect, useState} from 'react';\nimport {Avatar, IconButton} from '@material-ui/core';\nimport {AttachFile, MoreVert, SearchOutlined } from '@material-ui/icons';\n\nconst ChatHeader = (props) => {\n  // console.log(\"The checker:\", );\n\n  let timestamp;\n  props.rooms.forEach((room)=>{\n    if(room.name === props.roomName){\n      timestamp = room.lastTimestamp\n    }\n  })\n\n  return(\n    <div className=\"chat_header\">\n      <Avatar />\n\n      <div className=\"chat_headerInfo\">\n        <h3>{props.roomName}</h3>\n        <p>Last seen at {timestamp}</p>\n      </div>\n\n      <div className=\"chat_headerRight\">\n        <IconButton>\n          <SearchOutlined />\n        </IconButton>\n        <IconButton>\n          <AttachFile />\n        </IconButton>\n        <IconButton>\n          <MoreVert onClick={()=>props.handleToggleThread()}/>\n        </IconButton>\n      </div>\n    </div>\n  )\n}\n\nexport default ChatHeader;\n","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/Message.js",[],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/chat/Participant.js",["81","82"],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/map/MapContainer.js",["83","84","85","86"],"import React, {useEffect, useState} from 'react';\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react';\n\nconst MapContainer = (props) => {\n\n  const [lat,setLat] = useState(-33.8688197);\n  const [long,setLong] = useState(151.2092955);\n  const [bounds,setBounds] = useState(null);\n\n  let width;\n  if(props.width === true){\n    width = '58.5%';\n  }else{\n    width = '85.3%';\n  }\n\n  const mapStyles = {\n    width: width,\n    height: '89.5%'\n  };\n\n  const displayMarkers = () => {\n      return props.locations.map((location, index) => {\n        return <Marker\n                key={index}\n                id={index}\n                position={{\n                  lat: location.latitude,\n                  lng: location.longitude\n                }}\n                onClick={() => console.log(\"You clicked me!\")}\n                title={\"$100\"}\n                name={\"location.name\"}\n                icon={{\n                  url: `https://chart.googleapis.com/chart?chst=d_map_spin&chld=1|0|FFFFFF|10|b|$ ${location.listing_price}`,\n                }}\n                />\n      })\n    }\n\n  return(\n    <div>\n      <Map\n        google={props.google}\n        zoom={10}\n        style={mapStyles}\n        initialCenter={{ lat: lat, lng: long}}\n        bounds={bounds}\n      >\n      {displayMarkers()}\n      </Map>\n    </div>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyAW5MNODxdAncbpnSGtOIl6Gyfjo-e6w3g'\n})(MapContainer);\n","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/sidebar/SkinnySidebar.js",[],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/sidebar/SideBar.js",[],"/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/sidebar/SidebarChat.js",["87"],"import React, {useEffect,useState} from 'react';\nimport {Avatar} from '@material-ui/core';\nimport \"./SidebarChat.css\"\n\nconst SidebarChat = (props) => {\n  const [lastMessage, setLastMessage] = useState(props.room.lastMessage)\n  useEffect(()=>{\n    if(props.roomName === props.room.name && props.lastMessage !== \"\"){\n      setLastMessage(props.lastMessage);\n    }\n  },[props.lastMessage])\n\n  return(\n    <div className=\"sidebarChat\" onClick={()=>props.handleClick(props.room.name)}>\n      <Avatar />\n      <div className=\"sidebarChat_info\">\n        <h2>{ props.room.name }</h2>\n        <p>{ lastMessage }\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default SidebarChat;\n","/Users/kyleswaffield/sei40/projects/mapChat/whatsapp/src/Home.js",["88","89","90"],"import React, {useEffect, useState} from 'react';\nimport Pusher from 'pusher-js';\nimport api from './api';\nimport './App.css';\nimport SideBar from './sidebar/SideBar';\nimport SkinnySidebar from './sidebar/SkinnySidebar';\nimport Chat from './chat/Chat';\nimport MapContainer from './map/MapContainer';\n\n// const FAKE_SIDEBAR_ROOMS = [\"SEI40\",\"Hunting\",\"Fishing\",\"Safari\",\"Crime\",\"Company-XYZ-reps\"];\nconst FAKE_USER = \"Swaff-y\";\n\nconst Home = (props) => {\n  const [messages, setMessages] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [toggleChat, setToggleChat] = useState(false);\n  const [toggleSidebar, setToggleSidebar] = useState(true);\n  const [locations, setLocations] = useState([]);\n  const [roomName, setRoomName] = useState(props.match.params.name);\n  const [user, setUser] = useState(FAKE_USER);\n  const [lastMessage, setLastMessage] = useState(\"\");\n\n  useEffect(() => {\n    //get messages\n    api.get(`/messages/sync/${roomName}`)\n    .then(res => {\n       // console.log(\"The message data\",res.data);\n      setMessages(res.data);\n    })\n    .catch(err=>{\n      console.warn(err)\n    })\n  },[rooms]);\n\n  useEffect(() => {\n    //Get rooms\n    api.get(`/rooms/sync/${FAKE_USER}`)\n    .then(res => {\n       // console.log(\"The room data\",res.data);\n      setRooms(res.data);\n    })\n    .catch(err=>{\n      console.warn(err)\n    })\n\n  },[props.match.params.name]);\n\n  useEffect(()=>{\n    const pusher = new Pusher('1bf1ac863ab88a3d0532', {\n       cluster: 'ap4'\n     });\n     const channel = pusher.subscribe('messages');\n     channel.bind('inserted', (newMessage) => {\n       // alert(JSON.stringify(newMessage));\n       // if()\n       setMessages([...messages, newMessage]);\n       setLastMessage(newMessage.message);\n     });\n     return () => {\n       channel.unbind_all();\n       channel.unsubscribe();\n     };\n  },[messages]);\n\n  const handleToggleChat = () => {\n    if(toggleChat === false){\n      setToggleChat(true);\n    }else if(toggleChat === true){\n      setToggleChat(false);\n    }\n  }\n\n  const handleToggleSidebar= () => {\n    if(toggleSidebar === false){\n      setToggleSidebar(true);\n    }else if(toggleSidebar === true){\n      setToggleSidebar(false);\n      setToggleChat(false);\n    }\n  }\n\n  const handleRoomChange = (name) => {\n    props.history.push(`/room/${name}`);\n    setRoomName(name);\n  }\n\n  // console.log(\"Match-left: \", messages[0].room, \"Match-right: \", roomName);\n\n  return (\n    <div className=\"app\">\n      <div className=\"app_body\">\n        {\n          toggleSidebar === true ? <SideBar toggleChat={handleToggleChat} toggleSidebar={handleToggleSidebar} chatRooms={rooms} handleClick={handleRoomChange}  lastMessage={lastMessage} roomName={roomName}/> : <SkinnySidebar toggleSidebar={handleToggleSidebar}/>\n        }\n        <div className=\"chat\">\n          {\n            toggleChat === true ? <Chat messages={messages} roomName={roomName} user={user} rooms={rooms} lastMessage={lastMessage}/> : <MapContainer locations={locations} width={toggleSidebar} />\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n",{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"91","replacedBy":"95"},{"ruleId":"93","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":3,"column":10,"nodeType":"99","messageId":"100","endLine":3,"endColumn":14},{"ruleId":"97","severity":1,"message":"101","line":1,"column":16,"nodeType":"99","messageId":"100","endLine":1,"endColumn":25},{"ruleId":"97","severity":1,"message":"102","line":1,"column":27,"nodeType":"99","messageId":"100","endLine":1,"endColumn":35},{"ruleId":"97","severity":1,"message":"101","line":1,"column":16,"nodeType":"99","messageId":"100","endLine":1,"endColumn":25},{"ruleId":"97","severity":1,"message":"102","line":1,"column":27,"nodeType":"99","messageId":"100","endLine":1,"endColumn":35},{"ruleId":"97","severity":1,"message":"101","line":1,"column":16,"nodeType":"99","messageId":"100","endLine":1,"endColumn":25},{"ruleId":"97","severity":1,"message":"103","line":6,"column":14,"nodeType":"99","messageId":"100","endLine":6,"endColumn":20},{"ruleId":"97","severity":1,"message":"104","line":7,"column":15,"nodeType":"99","messageId":"100","endLine":7,"endColumn":22},{"ruleId":"97","severity":1,"message":"105","line":8,"column":17,"nodeType":"99","messageId":"100","endLine":8,"endColumn":26},{"ruleId":"106","severity":1,"message":"107","line":11,"column":5,"nodeType":"108","endLine":11,"endColumn":24,"suggestions":"109"},{"ruleId":"97","severity":1,"message":"110","line":18,"column":21,"nodeType":"99","messageId":"100","endLine":18,"endColumn":33},{"ruleId":"97","severity":1,"message":"111","line":20,"column":16,"nodeType":"99","messageId":"100","endLine":20,"endColumn":23},{"ruleId":"106","severity":1,"message":"112","line":33,"column":5,"nodeType":"108","endLine":33,"endColumn":12,"suggestions":"113"},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],["114"],["115"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useState' is defined but never used.","'setLat' is assigned a value but never used.","'setLong' is assigned a value but never used.","'setBounds' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'props.room.name' and 'props.roomName'. Either include them or remove the dependency array.","ArrayExpression",["116"],"'setLocations' is assigned a value but never used.","'setUser' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'roomName'. Either include it or remove the dependency array.",["117"],"no-global-assign","no-unsafe-negation",{"desc":"118","fix":"119"},{"desc":"120","fix":"121"},"Update the dependencies array to be: [props.lastMessage, props.room.name, props.roomName]",{"range":"122","text":"123"},"Update the dependencies array to be: [roomName, rooms]",{"range":"124","text":"125"},[366,385],"[props.lastMessage, props.room.name, props.roomName]",[1121,1128],"[roomName, rooms]"]